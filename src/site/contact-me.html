---
layout: layouts/base.html
title: Contact - Art By Skylee
page_title: Contact | Art By Skylee
---

<div id="contact-section" class="section">
  <div class="content container">
    <h2 class="focus-title">{{contact.header}}</h2>

    <p>
      {{contact.contactMessage}}
    </p>

    <!-- ============ Contact Form - START ============ -->

    <!-- Yeah the form is wrong but it's not my code and I don't feel like changing it. -->
    <form id="contact-form">
      <div class="col-md-6">
        <label><strong>Name *</strong>
          <input class="required" type="text" name="name" id="name" />
        </label>
        <label><strong>Email *</strong>
          <input class="required" type="text" name="email" id="email" />
        </label>
        <label><strong>Subject</strong>
          <select name="subject" id="subject">

            <div class="row">
              {% for option in contact.subjects %}
              <option value="{{option.subject}}">{{option.subject}}</option>
              {% endfor %}
          </select>
        </label>
      </div>
      <div class="col-md-6">
        <label><strong>Message *</strong>
          <textarea class="required" name="message" id="body"></textarea>
        </label>
        <p>( <strong>*</strong> ) = Mandatory field</p>
        <input class="submit btn md" type="submit" name="submit" value="Send Message" />
      </div>
      <input type="hidden" name="form_type" value="contact" />
    </form>

    <!-- ============ Contact Form - END ============ -->
  </div>
</div>

<script src="https://smtpjs.com/v3/smtp.js">
</script>

<script>
  const form = document.getElementById("contact-form");
  const email = document.getElementById("email").value;
  const name = document.getElementById("name").value;
  const subject = document.getElementById("subject").value;
  const body = document.getElementById("body").value;
  const inputs = Array.from(form.getElementsByClassName("required"))


  const emailValidator = function (email) {
    var emailReg = new RegExp(
      /^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i
    );
    var valid = emailReg.test(email);

    return valid;
  };

  const inputValidator = (inputArray) => {

    return inputArray.every(input => {
      if (input.value === "" && input.classList.contains("invalid-input")) {
        return input.value === ""
      } else if (input.value === "") {
        input.classList.toggle("invalid-input")
        return input.value === ""
      }
      return input.value === ""
    })
  }

  //clear redbox
  inputs.forEach(input => {
    input.onfocus = function (e) {
      if (e.target.classList.contains("invalid-input")) {
        e.target.classList.toggle("invalid-input")
      }
    }
  })

  form.onsubmit = (e => {
    e.preventDefault();
    const emailIsValid = emailValidator(email);
    const inputsAreValid = inputValidator(inputs)
    //validate
    console.log(emailIsValid, inputsAreValid, email, name, body)

    if (emailIsValid && inputsAreValid) {
      Email.send({
        SecureToken: "3f3c8267-1b04-400a-b2f6-2df69b31972a",
        To: 'nolestock@gmail.com',
        From: `${email}`,
        Subject: `${name} ${subject}`,
        Body: `${body}`
      }).then(
        //email sent
        message => alert(message)
      );
    }

  })
</script>