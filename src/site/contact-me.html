---
layout: layouts/base.html
title: Contact - Art By Skylee
page_title: Contact | Art By Skylee
---

<div id="contact-section" class="section">
  <div class="content container">
    <h2 class="focus-title">{{contact.header}}</h2>

    <p>
      {{contact.contactMessage}}
    </p>

    <!-- ============ Contact Form - START ============ -->

    <form id="contact-form"
    >
      <div class="col-md-6">
        <label
          ><strong>Full Name *</strong>
          <input class="required" type="text" name="name" id="name" />
        </label>
        <label
          ><strong>Email *</strong>
          <input class="required" type="text" name="email" id="email" />
        </label>
        <label
          ><strong>Subject</strong>
          <select name="subject" id="subject">
          
        <div class="row">
            {% for option in contact.subjects %}
              <option value="{{option.subject}}">{{option.subject}}</option>
            {% endfor %}
          </select>
        </label>
      </div>
      <div class="col-md-6">
        <label
          ><strong>Message *</strong>
          <textarea class="required" name="message" id="body"></textarea>
        </label>
        <p>( <strong>*</strong> ) = Mandatory field</p>
        <input
          class="submit btn md"
          type="submit"
          name="submit"
          value="Send Message"
        />
      </div>
      <input type="hidden" name="form_type" value="contact" />
    </form>

    <!-- ============ Contact Form - END ============ -->
  </div>
</div>

<script src="https://smtpjs.com/v3/smtp.js">
</script>

<script>
  const form = document.getElementById("contact-form");
  const email = document.getElementById("email").value;
  const name = document.getElementById("name").value;
  const subject = document.getElementById("subject").value;
  const body = document.getElementById("body").value;
  console.log(form)

  const emailValidator = function (email) {
    var emailReg = new RegExp(
      /^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i
    );
    var valid = emailReg.test(email);

    return valid;
  };

  form.onsubmit = (e=>{
    e.preventDefault();
    const requiredFields = form.getElementsByClassName("required");
    let missing;
    const nodeItems = Array.from(requiredFields);
    nodeItems.forEach(item=>{
      if (item.value === "")
        missing = true;
    })

    const validEmail = emailValidator(email);

    if (!missing && validEmail){
      Email.send({
        SecureToken : "eec23de3-3c24-4852-928f-a614875c0188",
        To : email,
        From : "nolestock@gmail.com",
        Subject : `${name} ${subject} ${body.slice(0,10)}`,
        Body : body
      }).then(
        message => alert(message)
      );
    }
  })
</script>